<Window x:Class="Mediatek.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:dvp="http://www.developpez.com/xaml"
        Title="Mediatek"
        Height="600"
        Width="800"
        WindowStyle="None"
        Background="Transparent"
        dvp:WindowBehavior.GlassFrameMargins="-1"
        dvp:WindowBehavior.EnableDragMove="True"
        Name="window">
    <Window.Resources>
        <Style x:Key="{x:Type Button}" TargetType="Button" BasedOn="{StaticResource stlFlatButton}" />
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition x:Name="headerRow" Height="60" />
            <RowDefinition x:Name="contentRow" />
        </Grid.RowDefinitions>
        <Grid Grid.Row="0">
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="150" />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>

            <!-- Window buttons -->
            <StackPanel Grid.Row="0"
                        Grid.Column="1"
                        Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Panel.ZIndex="2">
                <Button ToolTip="Minimize" Click="MinimizeButton_Click">
                    <Image Source="Images/down.png" />
                </Button>
                <Button ToolTip="Maximize" Click="MaximizeButton_Click">
                    <Image Source="Images/window.png" />
                </Button>
                <Button Command="{Binding CloseCommand}" ToolTip="Close">
                    <Image Source="Images/close.png" />
                </Button>
            </StackPanel>

            <!-- Double-click target for maximize -->
            <Control Grid.Row="0" Grid.RowSpan="2"
                     Grid.Column="0" Grid.ColumnSpan="2"
                     MouseDoubleClick="Control_MouseDoubleClick"
                     Panel.ZIndex="1">
                <Control.Template>
                    <ControlTemplate TargetType="Control">
                        <Border Background="#01000000" />
                    </ControlTemplate>
                </Control.Template>
            </Control>

            <!-- Window title -->
            <TextBlock Grid.Row="0"
                       Text="Mediatek"
                       Margin="2"
                       VerticalAlignment="Center"
                       FontFamily="Comic Sans MS"
                       FontSize="24"
                       Panel.ZIndex="0"/>

            <!-- Navigation buttons -->
            <StackPanel Orientation="Horizontal"
                        Grid.Row="1"
                        Panel.ZIndex="2">
                <Button Command="{Binding GoBackCommand}">
                    <Image Source="/Images/back.png" />
                </Button>
                <Button Command="{Binding GoForwardCommand}">
                    <Image Source="/Images/next.png" />
                </Button>
            </StackPanel>
        </Grid>
        
        <Border Grid.Row="1" CornerRadius="10">
            <Border.Background>
                <SolidColorBrush Color="White" Opacity="0.5" />
            </Border.Background>
            <Frame Name="frame" Content="{Binding Current}" Padding="5" NavigationUIVisibility="Hidden" />
        </Border>
    </Grid>
</Window>